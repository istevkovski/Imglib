{"version":3,"sources":["lib/functions.js","lib/icons.jsx","components/ActionBar.jsx","redux/actions/libraryActions.js","components/ImageCard.jsx","components/ImageView.jsx","redux/actions/generalActions.js","components/ImageViewControls.jsx","components/Imglib.jsx","reportWebVitals.js","redux/reducers/generalReducer.js","redux/reducers/libraryReducer.js","redux/reducers/rootReducer.js","store.js","index.js"],"names":["filterArrayFromDuplicates","array","uniq","Set","map","e","JSON","stringify","Array","from","parse","downloadBlob","url","Promise","resolve","reject","xhr","window","XMLHttpRequest","open","responseType","onload","this","status","response","send","defaultColor","CheckmarkIcon","color","action","className","onClick","role","xmlns","viewBox","fill","d","DiscardIcon","DeleteIcon","DownloadIcon","RestoreIcon","ActionBar","tab","useSelector","state","general","selectedImage","library","useState","confirmDelete","setConfirmDelete","dispatch","useDispatch","downloadImage","restoreImage","type","requestDeleteConfirmation","discardDeleteAction","removeImage","useEffect","classNames","Boolean","key","ImageCard","name","imgUrl","keyId","indexId","id","selected","setSelected","payload","src","alt","ImageView","activeImages","deletedImages","length","item","index","blob","setActiveTab","ImageViewControls","Imglib","a","fetch","then","res","json","data","imageArray","all","URL","createObjectURL","asyncRes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","generalState","generalReducer","toLowerCase","libraryReducerState","undefined","libraryReducer","deletedImage","filter","restoredImage","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7455f058.chunk.js","sourcesContent":["export function checkObjectsArrayDuplicates(array, key) {\n\tlet seen = new Set();\n\treturn array.some(object => {\n\t\treturn seen.size === seen.add(object[key]).size;\n\t});\n}\n\nexport function filterArrayFromDuplicates(array) {\n\tconst uniq = new Set(array.map(e => JSON.stringify(e)));\n\treturn Array.from(uniq).map(e => JSON.parse(e));\n}\n\nexport function downloadBlob(url) {\n\treturn new Promise((resolve, reject) => {\n\t\tvar xhr = new window.XMLHttpRequest();\n\t\txhr.open('GET', url, true);\n\t\txhr.responseType = 'blob';\n\n\t\txhr.onload = function (e) {\n\t\t\tif (this.status === 200) {\n\t\t\t\tresolve(this.response);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treject(this.response);\n\t\t\t}\n\t\t}\n\t\txhr.send();\n\t});\n};\n","const defaultColor = \"#464E70\";\nexport function CheckmarkIcon({ color = defaultColor, action }) {\n\treturn (\n\t\t<div className=\"icon\" onClick={action ? action : null}>\n\t\t\t<svg\n\t\t\t\trole=\"img\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 512 512\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill={color}\n\t\t\t\t\td=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"\n\t\t\t\t></path>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n\nexport function DiscardIcon({ color = defaultColor, action }) {\n\treturn (\n\t\t<div className=\"icon\" onClick={action ? action : null}>\n\t\t\t<svg\n\t\t\t\trole=\"img\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 512 512\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill={color}\n\t\t\t\t\td=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z\"\n\t\t\t\t></path>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n\nexport function DeleteIcon({ color = defaultColor, action }) {\n\treturn (\n\t\t<div className=\"icon\" onClick={action ? action : null}>\n\t\t\t<svg\n\t\t\t\trole=\"img\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 448 512\">\n\t\t\t\t<path\n\t\t\t\t\tfill={color}\n\t\t\t\t\td=\"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z\"></path>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n\nexport function DownloadIcon({ color = defaultColor, action }) {\n\treturn (\n\t\t<div className=\"icon\" onClick={action ? action : null}>\n\t\t\t<svg\n\t\t\t\trole=\"img\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 384 512\">\n\t\t\t\t<path\n\t\t\t\t\tfill={color}\n\t\t\t\t\td=\"M360 480H24c-13.3 0-24-10.7-24-24v-24c0-13.3 10.7-24 24-24h336c13.3 0 24 10.7 24 24v24c0 13.3-10.7 24-24 24zM128 56v136H40.3c-17.8 0-26.7 21.5-14.1 34.1l152.2 152.2c7.5 7.5 19.8 7.5 27.3 0l152.2-152.2c12.6-12.6 3.7-34.1-14.1-34.1H256V56c0-13.3-10.7-24-24-24h-80c-13.3 0-24 10.7-24 24z\"></path>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n\nexport function RestoreIcon({ color = defaultColor, action }) {\n\treturn (\n\t\t<div className=\"icon\" onClick={action ? action : null}>\n\t\t\t<svg\n\t\t\t\trole=\"img\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tviewBox=\"0 0 512 512\">\n\t\t\t\t<path\n\t\t\t\t\tfill={color}\n\t\t\t\t\td=\"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z\"></path>\n\t\t\t</svg>\n\t\t</div>\n\t);\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { CheckmarkIcon, DeleteIcon, DiscardIcon, DownloadIcon, RestoreIcon } from '../lib/icons';\nimport { removeSelectedImage, restoreSelectedImage } from '../redux/actions/libraryActions';\nimport { useEffect, useState } from 'react';\n\nexport default function ActionBar () {\n\t// General\n\tconst tab = useSelector(state => state.general.tab);\n\t// Library\n\tconst selectedImage = useSelector(state => state.library.selectedImage);\n\n\tconst [confirmDelete, setConfirmDelete] = useState(false);\n\n\tconst dispatch = useDispatch();\n\n\tfunction downloadImage () {\n\t\twindow.open(selectedImage.url)\n\t}\n\n\tfunction restoreImage () {\n\t\tdispatch(restoreSelectedImage())\n\t}\n\n\tfunction requestDeleteConfirmation () {\n\t\tsetConfirmDelete(true);\n\t}\n\n\tfunction discardDeleteAction () {\n\t\tsetConfirmDelete(false)\n\t}\n\n\tfunction removeImage () {\n\t\tdispatch(removeSelectedImage())\n\t\tsetConfirmDelete(false)\n\t}\n\n\tfunction renderControlsBasedOnTab () {\n\t\tif(confirmDelete)\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t<CheckmarkIcon color='#fff' action={removeImage}/>\n\t\t\t\t<DiscardIcon color='#fff' action={discardDeleteAction}/>\n\t\t\t\t</>\n\t\t\t)\n\t\telse if (tab === 'active')\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t<DeleteIcon color='#fff' action={requestDeleteConfirmation} />\n\t\t\t\t<DownloadIcon color='#fff' action={downloadImage} />\n\t\t\t\t</>\n\t\t\t)\n\t\telse if (tab === 'deleted')\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t<RestoreIcon color='#fff' action={restoreImage}/>\n\t\t\t\t</>\n\t\t\t)\n\t}\n\n\tuseEffect(() => {\n\t\tsetConfirmDelete(false)\n\t}, [selectedImage])\n\n\treturn (\n\t\t<div className={classNames([\n\t\t\t'actionbar',\n\t\t\t{ \"actionbar--open\": Boolean(selectedImage.key) }\n\t\t])}>\n\t\t\t{renderControlsBasedOnTab()}\n\t\t</div>\n\t)\n}","import { downloadBlob, filterArrayFromDuplicates } from '../../lib/functions'\n\nexport const updateActiveImages = (payload) => ({\n\ttype: 'UPDATE_ACTIVE_IMAGES',\n\tpayload\n})\n\nexport const removeSelectedImage = () => ({\n\ttype: 'REMOVE_IMAGE'\n})\n\nexport const restoreSelectedImage = () => ({\n\ttype: 'RESTORE_IMAGE'\n})\n\nexport const updateSelectedImage = (object) => ({\n\ttype: 'UPDATE_SELECTED_IMAGE',\n\tpayload: object\n})\n\nexport function handleFetchBaseImages () {\n\treturn async (dispatch) => {\n\t\tawait fetch('./dbfetch.txt')\n\t\t\t.then(res => res.json())\n\t\t\t.then(async data => {\n\t\t\t\tlet imageArray = filterArrayFromDuplicates(data);\n\t\t\t\tconst asyncRes = await Promise.all(imageArray.map(async item => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tblob: URL.createObjectURL(await downloadBlob(item.url))\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t\tif (data) dispatch(updateActiveImages(asyncRes))\n\t\t\t})\n\t}\n}","import { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport { CheckmarkIcon } from '../lib/icons';\nimport { updateSelectedImage } from '../redux/actions/libraryActions';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport default function ImageCard ({\n\tname,\n\timgUrl,\n\tkeyId,\n\tindexId\n}) {\n\tconst selectedImage = useSelector(state => state.library.selectedImage);\n\tconst [selected, setSelected] = useState(selectedImage.id === indexId);\n\n\tconst dispatch = useDispatch();\n\n\tfunction handleSelectImageCard () {\n\t\tdispatch(updateSelectedImage(selected ? '' : { indexId, keyId, imgUrl }));\n\t}\n\n\tuseEffect(() => {\n\t\tsetSelected(selectedImage.id === indexId)\n\t}, [selectedImage.id, indexId])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames([\n\t\t\t\t\"imagecard\",\n\t\t\t\t{\n\t\t\t\t\t\"imagecard--selected\": selected\n\t\t\t\t}\n\t\t\t])}\n\t\t\tonClick={handleSelectImageCard}\n\t\t>\n\t\t\t<div className=\"imagecard__image\">\n\t\t\t\t<img src={imgUrl} alt={name}/>\n\t\t\t</div>\n\t\t\t<h2>{name}</h2>\n\t\t\t<CheckmarkIcon />\n\t\t</div>\n\t)\n}","import { useSelector } from 'react-redux'\nimport ImageCard from './ImageCard';\n\nexport default function ImageView () {\n\t// General\n\tconst tab = useSelector(state => state.general.tab);\n\t// Library\n\tconst activeImages = useSelector(state => state.library.activeImages);\n\tconst deletedImages = useSelector(state => state.library.deletedImages);\n\n\tfunction renderImageCards () {\n\t\tif(tab === 'active' && activeImages.length) {\n\t\t\treturn activeImages.map((item, index) => <ImageCard name={item.name} imgUrl={item.blob} indexId={index} keyId={`imgCard_${index}`} key={`imgCard_${index}`} />)\n\t\t} else if (tab === 'deleted' && deletedImages.length) {\n\t\t\treturn deletedImages.map((item, index) => <ImageCard name={item.name} imgUrl={item.blob} indexId={index} keyId={`imgCard_${index}`} key={`imgCard_${index}`} />)\n\t\t}\n\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"imageview\">\n\t\t\t{renderImageCards()}\n\t\t</div>\n\t)\n}","export const setActiveTab = (tab) => ({\n\ttype: 'SET_ACTIVE_TAB',\n\tpayload: tab\n});\n","import { useDispatch, useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport { setActiveTab } from '../redux/actions/generalActions';\n\nexport default function ImageViewControls () {\n\t// General\n\tconst tab = useSelector(state => state.general.tab);\n\n\tconst dispatch = useDispatch();\n\n\treturn (\n\t\t<div className=\"imageViewControls\">\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'imageViewControls__option',\n\t\t\t\t\t{ 'imageViewControls__option--active': tab === 'active' }\n\t\t\t\t)}\n\t\t\t\tonClick={() => dispatch(setActiveTab('active'))}\n\t\t\t>\n\t\t\t\t<p>Active</p>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'imageViewControls__option',\n\t\t\t\t\t{ 'imageViewControls__option--active': tab === 'deleted' }\n\t\t\t\t)}\n\t\t\t\tonClick={() => dispatch(setActiveTab('deleted'))}\n\t\t\t>\n\t\t\t\t<p>Deleted</p>\n\t\t\t</div>\n\t\t</div>\n\t)\n}","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { handleFetchBaseImages } from '../redux/actions/libraryActions';\nimport ActionBar from './ActionBar';\nimport ImageView from './ImageView';\nimport ImageViewControls from './ImageViewControls';\n\nfunction Imglib() {\n\tconst dispatch = useDispatch();\n\n\tuseEffect(() => {\n\t\tdispatch(handleFetchBaseImages());\n\t}, [dispatch]);\n\n\treturn (\n\t\t<>\n\t\t<header>\n\t\t\t<div className=\"wrapper\">\n\t\t\t\t<h1>My Library</h1>\n\t\t\t</div>\n\t\t</header>\n\t\t<main className=\"main\">\n\t\t\t<div className=\"wrapper isrelative\">\n\t\t\t\t<ImageViewControls />\n\t\t\t\t<ImageView />\n\t\t\t\t<ActionBar />\n\t\t\t</div>\n\t\t</main>\n\t\t</>\n\t);\n}\n\nexport default Imglib;\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport(\"web-vitals\").then(\n\t\t\t({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\t\tgetCLS(onPerfEntry);\n\t\t\t\tgetFID(onPerfEntry);\n\t\t\t\tgetFCP(onPerfEntry);\n\t\t\t\tgetLCP(onPerfEntry);\n\t\t\t\tgetTTFB(onPerfEntry);\n\t\t\t}\n\t\t);\n\t}\n};\n\nexport default reportWebVitals;\n","const generalState = {\n\ttab: 'active',\n};\n\nconst generalReducer = (state = generalState, action) => {\n\tswitch(action.type) {\n\t\tcase \"SET_ACTIVE_TAB\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttab: action.payload.toLowerCase()\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\nexport default generalReducer;","const libraryReducerState = {\n\tactiveImages: [],\n\tdeletedImages: [],\n\tselectedImage: {\n\t\tkey: '',\n\t\tid: undefined,\n\t\turl: ''\n\t},\n}\n\nconst libraryReducer = (state = libraryReducerState, action) => {\n\tswitch(action.type) {\n\t\tcase 'UPDATE_ACTIVE_IMAGES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveImages: action.payload\n\t\t\t}\n\t\tcase 'REMOVE_IMAGE':\n\t\t\tlet deletedImage;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveImages: state.activeImages.filter((item, index) => {\n\t\t\t\t\tif(index === state.selectedImage.id) deletedImage = item;\n\t\t\t\t\treturn index !== state.selectedImage.id\n\t\t\t\t}),\n\t\t\t\tdeletedImages: [...state.deletedImages, deletedImage],\n\t\t\t\tselectedImage: {...libraryReducerState.selectedImage}\n\t\t\t}\n\t\tcase 'RESTORE_IMAGE':\n\t\t\tlet restoredImage;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdeletedImages: state.deletedImages.filter((item, index) => {\n\t\t\t\t\tif(index === state.selectedImage.id) restoredImage = item;\n\t\t\t\t\treturn index !== state.selectedImage.id\n\t\t\t\t}),\n\t\t\t\tactiveImages: [...state.activeImages, restoredImage],\n\t\t\t\tselectedImage: {...libraryReducerState.selectedImage}\n\t\t\t}\n\t\tcase 'UPDATE_SELECTED_IMAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedImage: {\n\t\t\t\t\tkey: action.payload.keyId,\n\t\t\t\t\tid: action.payload.indexId,\n\t\t\t\t\turl: action.payload.imgUrl\n\t\t\t\t}\n\t\t\t}\n\t\t// Shared actions\n\t\tcase 'SET_ACTIVE_TAB':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselectedImage: {...libraryReducerState.selectedImage}\n\t\t\t}\n\t\tdefault: return state\n\t}\n}\n\nexport default libraryReducer;","import { combineReducers } from 'redux';\nimport generalReducer from './generalReducer';\nimport libraryReducer from './libraryReducer';\n\nconst rootReducer = combineReducers({\n\tgeneral: generalReducer,\n\tlibrary: libraryReducer\n});\nexport default rootReducer;","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./redux/reducers/rootReducer\";\n\nconst store = createStore(\n\trootReducer,\n\tcomposeWithDevTools(applyMiddleware(thunk))\n);\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from 'react-redux';\nimport Imglib from \"./components/Imglib\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from './store';\n\nimport './styles/global.scss';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<Imglib />\n\t</Provider>,\n\tdocument.getElementById(\"imglib\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}