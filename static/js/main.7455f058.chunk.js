(this.webpackJsonpimglib=this.webpackJsonpimglib||[]).push([[0],{34:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c(8),i=c.n(r),s=c(3),l=c(6),o=c.n(l),d=c(2),j=c(11);function u(e){var t=new Set(e.map((function(e){return JSON.stringify(e)})));return Array.from(t).map((function(e){return JSON.parse(e)}))}function b(e){return new Promise((function(t,c){var n=new window.XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(e){200===this.status?t(this.response):c(this.response)},n.send()}))}var m=c(10),O=c(5),f=c.n(O),v="#464E70";function g(e){var t=e.color,c=void 0===t?v:t,a=e.action;return Object(n.jsx)("div",{className:"icon",onClick:a||null,children:Object(n.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(n.jsx)("path",{fill:c,d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"})})})}function h(e){var t=e.color,c=void 0===t?v:t,a=e.action;return Object(n.jsx)("div",{className:"icon",onClick:a||null,children:Object(n.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(n.jsx)("path",{fill:c,d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"})})})}function p(e){var t=e.color,c=void 0===t?v:t,a=e.action;return Object(n.jsx)("div",{className:"icon",onClick:a||null,children:Object(n.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(n.jsx)("path",{fill:c,d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"})})})}function x(e){var t=e.color,c=void 0===t?v:t,a=e.action;return Object(n.jsx)("div",{className:"icon",onClick:a||null,children:Object(n.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:Object(n.jsx)("path",{fill:c,d:"M360 480H24c-13.3 0-24-10.7-24-24v-24c0-13.3 10.7-24 24-24h336c13.3 0 24 10.7 24 24v24c0 13.3-10.7 24-24 24zM128 56v136H40.3c-17.8 0-26.7 21.5-14.1 34.1l152.2 152.2c7.5 7.5 19.8 7.5 27.3 0l152.2-152.2c12.6-12.6 3.7-34.1-14.1-34.1H256V56c0-13.3-10.7-24-24-24h-80c-13.3 0-24 10.7-24 24z"})})})}function w(e){var t=e.color,c=void 0===t?v:t,a=e.action;return Object(n.jsx)("div",{className:"icon",onClick:a||null,children:Object(n.jsx)("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(n.jsx)("path",{fill:c,d:"M212.333 224.333H12c-6.627 0-12-5.373-12-12V12C0 5.373 5.373 0 12 0h48c6.627 0 12 5.373 12 12v78.112C117.773 39.279 184.26 7.47 258.175 8.007c136.906.994 246.448 111.623 246.157 248.532C504.041 393.258 393.12 504 256.333 504c-64.089 0-122.496-24.313-166.51-64.215-5.099-4.622-5.334-12.554-.467-17.42l33.967-33.967c4.474-4.474 11.662-4.717 16.401-.525C170.76 415.336 211.58 432 256.333 432c97.268 0 176-78.716 176-176 0-97.267-78.716-176-176-176-58.496 0-110.28 28.476-142.274 72.333h98.274c6.627 0 12 5.373 12 12v48c0 6.627-5.373 12-12 12z"})})})}function I(){var e=Object(s.c)((function(e){return e.general.tab})),t=Object(s.c)((function(e){return e.library.selectedImage})),c=Object(a.useState)(!1),r=Object(m.a)(c,2),i=r[0],l=r[1],o=Object(s.b)();function d(){window.open(t.url)}function j(){o({type:"RESTORE_IMAGE"})}function u(){l(!0)}function b(){l(!1)}function O(){o({type:"REMOVE_IMAGE"}),l(!1)}return Object(a.useEffect)((function(){l(!1)}),[t]),Object(n.jsx)("div",{className:f()(["actionbar",{"actionbar--open":Boolean(t.key)}]),children:i?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g,{color:"#fff",action:O}),Object(n.jsx)(h,{color:"#fff",action:b})]}):"active"===e?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(p,{color:"#fff",action:u}),Object(n.jsx)(x,{color:"#fff",action:d})]}):"deleted"===e?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(w,{color:"#fff",action:j})}):void 0})}function E(e){var t=e.name,c=e.imgUrl,r=e.keyId,i=e.indexId,l=Object(s.c)((function(e){return e.library.selectedImage})),o=Object(a.useState)(l.id===i),d=Object(m.a)(o,2),j=d[0],u=d[1],b=Object(s.b)();return Object(a.useEffect)((function(){u(l.id===i)}),[l.id,i]),Object(n.jsxs)("div",{className:f()(["imagecard",{"imagecard--selected":j}]),onClick:function(){b({type:"UPDATE_SELECTED_IMAGE",payload:j?"":{indexId:i,keyId:r,imgUrl:c}})},children:[Object(n.jsx)("div",{className:"imagecard__image",children:Object(n.jsx)("img",{src:c,alt:t})}),Object(n.jsx)("h2",{children:t}),Object(n.jsx)(g,{})]})}function y(){var e=Object(s.c)((function(e){return e.general.tab})),t=Object(s.c)((function(e){return e.library.activeImages})),c=Object(s.c)((function(e){return e.library.deletedImages}));return Object(n.jsx)("div",{className:"imageview",children:"active"===e&&t.length?t.map((function(e,t){return Object(n.jsx)(E,{name:e.name,imgUrl:e.blob,indexId:t,keyId:"imgCard_".concat(t)},"imgCard_".concat(t))})):"deleted"===e&&c.length?c.map((function(e,t){return Object(n.jsx)(E,{name:e.name,imgUrl:e.blob,indexId:t,keyId:"imgCard_".concat(t)},"imgCard_".concat(t))})):null})}var C=function(e){return{type:"SET_ACTIVE_TAB",payload:e}};function _(){var e=Object(s.c)((function(e){return e.general.tab})),t=Object(s.b)();return Object(n.jsxs)("div",{className:"imageViewControls",children:[Object(n.jsx)("div",{className:f()("imageViewControls__option",{"imageViewControls__option--active":"active"===e}),onClick:function(){return t(C("active"))},children:Object(n.jsx)("p",{children:"Active"})}),Object(n.jsx)("div",{className:f()("imageViewControls__option",{"imageViewControls__option--active":"deleted"===e}),onClick:function(){return t(C("deleted"))},children:Object(n.jsx)("p",{children:"Deleted"})})]})}var A=function(){var e=Object(s.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./dbfetch.txt").then((function(e){return e.json()})).then(function(){var e=Object(j.a)(o.a.mark((function e(c){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u(c),e.next=3,Promise.all(n.map(function(){var e=Object(j.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=d.a,e.t1=Object(d.a)({},t),e.t2={},e.t3=URL,e.next=6,b(t.url);case 6:return e.t4=e.sent,e.t5=e.t3.createObjectURL.call(e.t3,e.t4),e.t6={blob:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:a=e.sent,c&&t({type:"UPDATE_ACTIVE_IMAGES",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("header",{children:Object(n.jsx)("div",{className:"wrapper",children:Object(n.jsx)("h1",{children:"My Library"})})}),Object(n.jsx)("main",{className:"main",children:Object(n.jsxs)("div",{className:"wrapper isrelative",children:[Object(n.jsx)(_,{}),Object(n.jsx)(y,{}),Object(n.jsx)(I,{})]})})]})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,36)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},k=c(4),M=c(18),S=c(19),N={tab:"active"},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_TAB":return Object(d.a)(Object(d.a)({},e),{},{tab:t.payload.toLowerCase()});default:return e}},V=c(15),B={activeImages:[],deletedImages:[],selectedImage:{key:"",id:void 0,url:""}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_ACTIVE_IMAGES":return Object(d.a)(Object(d.a)({},e),{},{activeImages:t.payload});case"REMOVE_IMAGE":var c;return Object(d.a)(Object(d.a)({},e),{},{activeImages:e.activeImages.filter((function(t,n){return n===e.selectedImage.id&&(c=t),n!==e.selectedImage.id})),deletedImages:[].concat(Object(V.a)(e.deletedImages),[c]),selectedImage:Object(d.a)({},B.selectedImage)});case"RESTORE_IMAGE":var n;return Object(d.a)(Object(d.a)({},e),{},{deletedImages:e.deletedImages.filter((function(t,c){return c===e.selectedImage.id&&(n=t),c!==e.selectedImage.id})),activeImages:[].concat(Object(V.a)(e.activeImages),[n]),selectedImage:Object(d.a)({},B.selectedImage)});case"UPDATE_SELECTED_IMAGE":return Object(d.a)(Object(d.a)({},e),{},{selectedImage:{key:t.payload.keyId,id:t.payload.indexId,url:t.payload.imgUrl}});case"SET_ACTIVE_TAB":return Object(d.a)(Object(d.a)({},e),{},{selectedImage:Object(d.a)({},B.selectedImage)});default:return e}},R=Object(k.combineReducers)({general:L,library:U}),z=Object(k.createStore)(R,Object(M.composeWithDevTools)(Object(k.applyMiddleware)(S.a)));c(34);i.a.render(Object(n.jsx)(s.a,{store:z,children:Object(n.jsx)(A,{})}),document.getElementById("imglib")),T()}},[[35,1,2]]]);
//# sourceMappingURL=main.7455f058.chunk.js.map